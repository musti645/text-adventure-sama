import { OneTimeAction } from './one-time-action.model';
import { ItemRemovingActionEvent } from '../events/item-removing-action.event';
import { InteractionType } from '../interactions/interaction-type.enum';
import { ItemEventService } from '../../services/item-event.service';
/**
 * An ItemRemovingAction is only triggered once and removes an Item out of the players inventory without using it.
 * It can only be triggered, if the user has got the Item in her inventory.
 */
export class ItemRemovingAction extends OneTimeAction {
    constructor() {
        super();
        this.setInteractionType(InteractionType.USE);
    }
    trigger() {
        if (this.getWasTriggered()) {
            return this.getResponseAfterUse();
        }
        ItemEventService.getInstance().removeItem(new ItemRemovingActionEvent(this));
        this.setWasTriggered(true);
        return this.getResponse();
    }
    reset() {
        this.setWasTriggered(false);
    }
    getItem() {
        return this.Item;
    }
    setItem(item) {
        this.Item = item;
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaXRlbS1yZW1vdmluZy1hY3Rpb24ubW9kZWwuanMiLCJzb3VyY2VSb290IjoiRTovRG9rdW1lbnRlL1JlcG9zaXRvcmllcy9UZXh0QWR2ZW50dXJlU2FtYS90ZXh0LWFkdmVudHVyZS1zYW1hL3Byb2plY3RzL3RleHQtYWR2ZW50dXJlLXNhbWEvc3JjLyIsInNvdXJjZXMiOlsibGliL21vZGVscy9hY3Rpb25zL2l0ZW0tcmVtb3ZpbmctYWN0aW9uLm1vZGVsLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxhQUFhLEVBQUUsTUFBTSx5QkFBeUIsQ0FBQztBQUV4RCxPQUFPLEVBQUUsdUJBQXVCLEVBQUUsTUFBTSxzQ0FBc0MsQ0FBQztBQUMvRSxPQUFPLEVBQUUsZUFBZSxFQUFFLE1BQU0sdUNBQXVDLENBQUM7QUFDeEUsT0FBTyxFQUFFLGdCQUFnQixFQUFFLE1BQU0sbUNBQW1DLENBQUM7QUFFckU7OztHQUdHO0FBQ0gsTUFBTSxPQUFPLGtCQUFtQixTQUFRLGFBQWE7SUFHakQ7UUFDSSxLQUFLLEVBQUUsQ0FBQztRQUNSLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxlQUFlLENBQUMsR0FBRyxDQUFDLENBQUM7SUFDakQsQ0FBQztJQUVNLE9BQU87UUFDVixJQUFJLElBQUksQ0FBQyxlQUFlLEVBQUUsRUFBRTtZQUN4QixPQUFPLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO1NBQ3JDO1FBRUQsZ0JBQWdCLENBQUMsV0FBVyxFQUFFLENBQUMsVUFBVSxDQUFDLElBQUksdUJBQXVCLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztRQUU3RSxJQUFJLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzNCLE9BQU8sSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQzlCLENBQUM7SUFFTSxLQUFLO1FBQ1IsSUFBSSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsQ0FBQztJQUNoQyxDQUFDO0lBRU0sT0FBTztRQUNWLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQztJQUNyQixDQUFDO0lBRU0sT0FBTyxDQUFDLElBQWdCO1FBQzNCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ3JCLENBQUM7Q0FDSiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE9uZVRpbWVBY3Rpb24gfSBmcm9tICcuL29uZS10aW1lLWFjdGlvbi5tb2RlbCc7XHJcbmltcG9ydCB7IEluR2FtZUl0ZW0gfSBmcm9tICcuLi9JdGVtLm1vZGVsJztcclxuaW1wb3J0IHsgSXRlbVJlbW92aW5nQWN0aW9uRXZlbnQgfSBmcm9tICcuLi9ldmVudHMvaXRlbS1yZW1vdmluZy1hY3Rpb24uZXZlbnQnO1xyXG5pbXBvcnQgeyBJbnRlcmFjdGlvblR5cGUgfSBmcm9tICcuLi9pbnRlcmFjdGlvbnMvaW50ZXJhY3Rpb24tdHlwZS5lbnVtJztcclxuaW1wb3J0IHsgSXRlbUV2ZW50U2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2l0ZW0tZXZlbnQuc2VydmljZSc7XHJcblxyXG4vKipcclxuICogQW4gSXRlbVJlbW92aW5nQWN0aW9uIGlzIG9ubHkgdHJpZ2dlcmVkIG9uY2UgYW5kIHJlbW92ZXMgYW4gSXRlbSBvdXQgb2YgdGhlIHBsYXllcnMgaW52ZW50b3J5IHdpdGhvdXQgdXNpbmcgaXQuXHJcbiAqIEl0IGNhbiBvbmx5IGJlIHRyaWdnZXJlZCwgaWYgdGhlIHVzZXIgaGFzIGdvdCB0aGUgSXRlbSBpbiBoZXIgaW52ZW50b3J5LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEl0ZW1SZW1vdmluZ0FjdGlvbiBleHRlbmRzIE9uZVRpbWVBY3Rpb24ge1xyXG4gICAgcHJpdmF0ZSBJdGVtOiBJbkdhbWVJdGVtO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5zZXRJbnRlcmFjdGlvblR5cGUoSW50ZXJhY3Rpb25UeXBlLlVTRSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIHRyaWdnZXIoKTogc3RyaW5nIHtcclxuICAgICAgICBpZiAodGhpcy5nZXRXYXNUcmlnZ2VyZWQoKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRSZXNwb25zZUFmdGVyVXNlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBJdGVtRXZlbnRTZXJ2aWNlLmdldEluc3RhbmNlKCkucmVtb3ZlSXRlbShuZXcgSXRlbVJlbW92aW5nQWN0aW9uRXZlbnQodGhpcykpO1xyXG5cclxuICAgICAgICB0aGlzLnNldFdhc1RyaWdnZXJlZCh0cnVlKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRSZXNwb25zZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1YmxpYyByZXNldCgpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNldFdhc1RyaWdnZXJlZChmYWxzZSk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldEl0ZW0oKTogSW5HYW1lSXRlbSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuSXRlbTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgc2V0SXRlbShpdGVtOiBJbkdhbWVJdGVtKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5JdGVtID0gaXRlbTtcclxuICAgIH1cclxufVxyXG4iXX0=